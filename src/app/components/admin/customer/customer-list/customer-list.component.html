<nav class="mb-2" aria-label="breadcrumb">
  <ol class="breadcrumb mb-0">
    <li class="breadcrumb-item"><a href="/admin">Trang chủ</a></li>
    <li class="breadcrumb-item">Quản lý khách hàng</li>
    <li class="breadcrumb-item active">{{ titleString }}</li>
  </ol>
</nav>
<div class="mb-9">
  <div class="row g-2 mb-4">
    <div class="col-auto">
      <h2 class="mb-0">{{ titleString }}</h2>
    </div>
  </div>
  <div id="products"
       data-list='{"valueNames":["customer","email","total-orders","total-spent","city","last-seen","last-order"],"page":10,"pagination":true}'>
    <div class="mb-4">
      <div class="row g-3">
        <div class="col-auto">
          <div class="search-box">
            <form class="position-relative" data-bs-toggle="search" data-bs-display="static">
              <input class="form-control search-input search" type="search" placeholder="Tìm kiếm khách hàng"/>
              <span class="fas fa-search search-box-icon"></span>
            </form>
          </div>
        </div>
        <div class="col-auto ms-auto">
          <a class="btn btn-primary" href="/admin/customer/save">
            <span class="fas fa-plus me-2"></span>Thêm khách hàng
          </a>
        </div>
      </div>
    </div>
    <div
      class="mx-n4 px-4 mx-lg-n6 px-lg-6 bg-body-emphasis border-top border-bottom border-translucent position-relative top-1">
      <div class="table-responsive scrollbar-overlay mx-n1 px-1">
        <table class="table table-sm fs-9 mb-0">
          <thead>
          <tr>
            <th class="sort align-middle pe-5" scope="col" data-sort="customer" style="width:10%;">Khách hàng</th>
            <th class="sort align-middle pe-5" scope="col" data-sort="email" style="width:20%;">Số điện thoại</th>
            <th class="sort align-middle text-end" scope="col" data-sort="total-orders" style="width:10%">Đơn hàng</th>
            <th class="sort align-middle text-end ps-3" scope="col" data-sort="total-spent" style="width:10%">
              Tồng tiền hàng
            </th>
            <th class="sort align-middle text-end ps-3" scope="col" data-sort="total-spent" style="width:10%">
              Tài khoản
            </th>
            <th class="sort align-middle text-end" scope="col" data-sort="last-seen" style="width:15%;">
              Ngày tạo
            </th>
            <th class="sort align-middle text-end pe-0" scope="col" data-sort="last-order"
                style="width:10%;min-width: 150px;">
              Ngày cập nhật
            </th>
            <th class="text-end align-middle pe-0 ps-4" scope="col"></th>
          </tr>
          </thead>
          <tbody class="list" id="customers-table-body">
          <tr class="hover-actions-trigger btn-reveal-trigger position-static">
            <td class="customer align-middle white-space-nowrap pe-5 py-3">
              <a class="d-flex align-items-center text-body-emphasis" href="customer-details.html">
                <div class="avatar avatar-m">
                  <img class="rounded-circle" src="/assets/img/products/2.png" alt=""/>
                </div>
                <p class="mb-0 ms-3 text-body-emphasis fw-bold">Carry Anna</p>
              </a>
            </td>
            <td class="email align-middle white-space-nowrap pe-5">
              <a class="fw-semibold" href="mailto:annac34@gmail.com">annac34@gmail.com</a>
            </td>
            <td class="total-orders align-middle white-space-nowrap fw-semibold text-end text-body-highlight">89</td>
            <td class="total-spent align-middle white-space-nowrap fw-bold text-end ps-3 text-body-emphasis">
              $ 23987
            </td>
            <td class="last-seen align-middle white-space-nowrap text-body-tertiary text-end">Bình thường</td>
            <td class="last-seen align-middle white-space-nowrap text-body-tertiary text-end">34 min ago</td>
            <td class="last-order align-middle white-space-nowrap text-body-tertiary text-end">Dec 12, 12:56 PM</td>
            <td class="align-middle white-space-nowrap text-end pe-0 ps-4 btn-reveal-trigger">
              <div class="font-sans-serif btn-reveal-trigger position-static">
                <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2"
                        type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true"
                        aria-expanded="false" data-bs-reference="parent">
                  <span class="fas fa-ellipsis-h fs--2"></span>
                </button>
                <div class="dropdown-menu dropdown-menu-end py-2">
<!--                  <a class="dropdown-item" href="/admin/customer/{{customer.id}}">Chi tiết</a>-->
<!--                  <a class="dropdown-item" href="/admin/customer/save/{{customer.id}}">Cập nhật</a>-->
<!--                  <button class="dropdown-item" (click)="updateStatus(customer.id)">-->
<!--                    <span *ngIf="customer.status">Ngưng bán</span>-->
<!--                    <span *ngIf="!customer.status">Mở bán</span>-->
<!--                  </button>-->
                  <div class="dropdown-divider"></div>
<!--                  <button type="button" class="dropdown-item text-danger" (click)="delete(customer.id)">Xóa</button>-->
                </div>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="row align-items-center py-2 pe-0 fs--1">
        <div class="col-auto d-flex">
          <label>
            <select class="form-select form-select-sm form-select-solid" name="sizeSelected"
                    [(ngModel)]="paginationDTO.pageSize" (change)="changePageSize(paginationDTO.pageSize)">
              <option value="5" [selected]="paginationDTO.pageSize == 5">5</option>
              <option value="10" [selected]="paginationDTO.pageSize == 10">10</option>
              <option value="25" [selected]="paginationDTO.pageSize == 25">25</option>
              <option value="50" [selected]="paginationDTO.pageSize == 50">50</option>
              <option value="100" [selected]="paginationDTO.pageSize == 100">100</option>
            </select>
          </label>
        </div>
        <div class="col-auto d-flex">
          <p class="mb-0 d-none d-sm-block me-3 fw-semi-bold text-900">
            Hiển thị {{ paginationDTO.firstElementOnPage }} đến {{ paginationDTO.lastElementOnPage }}
            <span class="text-body-tertiary"> của </span>{{ paginationDTO.totalElements }} danh mục
          </p>
        </div>
        <div class="col-auto ms-auto d-flex">
          <button type="button" class="page-link" (click)="changePageNumber(1)"
                  [class.disabled]="paginationDTO.pageNumber <= 1">
            <span class="fas fa-angle-double-left"></span>
          </button>
          <button type="button" class="page-link" (click)="changePageNumber(paginationDTO.pageNumber - 1)"
                  [class.disabled]="paginationDTO.pageNumber <= 1">
            <span class="fas fa-angle-left"></span>
          </button>
          <ul class="mb-0 pagination">
            <li class="page-item"
                *ngFor="let i of Utils.getVisiblePages(paginationDTO.pageNumber, paginationDTO.totalPages, 5)"
                [class.active]="i === paginationDTO.pageNumber">
              <button type="button" class="page-link" (click)="changePageNumber(i)">{{ i }}</button>
            </li>
          </ul>
          <button type="button" class="page-link" (click)="changePageNumber(paginationDTO.pageNumber + 1)"
                  [class.disabled]="paginationDTO.pageNumber >= paginationDTO.totalPages">
            <span class="fas fa-angle-right"></span>
          </button>
          <button type="button" class="page-link" (click)="changePageNumber(paginationDTO.totalPages)"
                  [class.disabled]="paginationDTO.pageNumber >= paginationDTO.totalPages">
            <span class="fas fa-angle-double-right"></span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
